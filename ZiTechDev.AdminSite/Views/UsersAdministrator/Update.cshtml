@model ZiTechDev.Business.Requests.User.UserUpdateRequest

@{
    ViewData["Title"] = "Cập nhật người dùng";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<hr />
<div class="container-fluid">
    <div class="card mb-4 bg-light">
        <div class="card-body justify-content-center">

            <h1 class="form-group text-center text-uppercase">Cập nhật người dùng</h1>
            <form asp-controller="UsersAdministrator" asp-action="Update" method="post">
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group text-center">
                            <div class="summary-error bg-danger text-white" style="list-style: none" asp-validation-summary="ModelOnly"></div>
                        </div>
                    </div>

                    <div class="col-md-12 row">
                        <div class="col-md-6">
                            <div class="form-group" hidden>
                                <label asp-for="Id" class="control-label"></label>
                                <input asp-for="Id" class="form-control" />
                                <span asp-validation-for="Id" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label asp-for="FirstName" class="control-label"></label>
                                <span class="text-danger"> (*)</span>
                                <input id="txbFirstName" asp-for="FirstName" class="form-control" onchange="fullNameChanged()" />
                                <span asp-validation-for="FirstName" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label asp-for="MiddleName" class="control-label"></label>
                                <input id="txbMiddleName" asp-for="MiddleName" class="form-control" onchange="fullNameChanged()" />
                                <span asp-validation-for="MiddleName" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label asp-for="LastName" class="control-label"></label>
                                <span class="text-danger"> (*)</span>
                                <input id="txbLastName" asp-for="LastName" class="form-control" onchange="fullNameChanged()" />
                                <span asp-validation-for="LastName" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label asp-for="DisplayName" class="control-label"></label>
                                <span class="text-danger"> (*)</span>
                                <input id="txbDisplayName" asp-for="DisplayName" class="form-control" />
                                <span asp-validation-for="DisplayName" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label asp-for="DateOfBirth" class="control-label"></label>
                                <span class="text-danger"> (*)</span>
                                <input asp-for="DateOfBirth" class="form-control" />
                                <span asp-validation-for="DateOfBirth" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label asp-for="Gender" class="control-label"></label>
                                <span class="text-danger"> (*)</span>
                                <select class="form-control py-2" asp-for="Gender" asp-items="@(new SelectList(Model.GenderSelectors.Items,"Id","GenderName"))"></select>
                                <span asp-validation-for="Gender" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label asp-for="PhoneNumber" class="control-label"></label>
                                <span class="text-danger"> (*)</span>
                                <input asp-for="PhoneNumber" class="form-control" />
                                <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label asp-for="Email" class="control-label"></label>
                                <span class="text-danger"> (*)</span>
                                <input asp-for="Email" class="form-control" />
                                <span asp-validation-for="Email" class="text-danger"></span>
                            </div>
                            <div class="form-group row justify-content-center">
                                <label asp-for="Roles" class="control-label col-md-12"></label>
                                <div class="col-md-12 row">
                                    @for (var i = 0; i < Model.Roles.Count(); i++)
                                    {
                                        <div class="form-check col-md-12 btn btn-outline-info text-center mb-2">
                                            <input class="form-check-input" type="checkbox" id="@Model.Roles[i].Name" asp-for="@Model.Roles[i].Checked"/>
                                            @{
                                                if (@Model.Roles[i].Name.Equals("User"))
                                                {
                                                    <label class="form-check-label" for="@Model.Roles[i].Name">@Model.Roles[i].Name (*)</label>
                                                }
                                                else
                                                {
                                                    <label class="form-check-label" for="@Model.Roles[i].Name">@Model.Roles[i].Name</label>
                                                }
                                            }
                                            <input type="hidden" asp-for="@Model.Roles[i].Id" />
                                            <input type="hidden" asp-for="@Model.Roles[i].Name" />
                                        </div>
                                    }
                                </div>
                                <span asp-validation-for="Roles" class="text-danger col-md-12"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <button type="submit" class="form-group col-md-5 btn btn-primary w-100 m-1">Lưu</button>
                    <button type="button" class="form-group col-md-5 btn btn-dark w-100 m-1" onclick="window.location.href='Index'">Hủy</button>
                </div>
            </form>

        </div>
    </div>
</div>

@section Scripts{
    <script type="text/javascript" src="/js/UsersAdministrator/update.js" defer></script>
}
